1
00:00:00,765 --> 00:00:03,459
Pour pouvoir utiliser la JSTL
dans notre code,..

2
00:00:03,579 --> 00:00:06,061
..il va falloir faire un petit peu
de configuration.

3
00:00:06,181 --> 00:00:08,648
En particulier,
au début de nos pages JSP,..

4
00:00:08,768 --> 00:00:10,041
..nous allons devoir dire..

5
00:00:10,161 --> 00:00:12,138
..que nous utilisons
la bibliothèque JSTL,..

6
00:00:12,258 --> 00:00:14,150
..et il faudra aussi
ajouter la bibliothèque..

7
00:00:14,270 --> 00:00:15,699
..à notre projet dans Eclipse.

8
00:00:16,828 --> 00:00:18,894
Pour pouvoir utiliser la JSTL..

9
00:00:19,014 --> 00:00:20,425
..dans nos pages JSP,..

10
00:00:20,545 --> 00:00:24,037
..nous allons devoir
inclure la bibliothèque JSTL.

11
00:00:24,595 --> 00:00:25,663
Pour faire ça,..

12
00:00:25,783 --> 00:00:28,984
..nous allons nous pencher
sur le haut du fichier JSP,..

13
00:00:29,104 --> 00:00:30,528
..où il y a les directives.

14
00:00:30,648 --> 00:00:32,474
Ici, <i>%@</i>..

15
00:00:32,866 --> 00:00:35,683
..qui vous permettent
de configurer votre fichier JSP.

16
00:00:36,455 --> 00:00:39,753
Ici, à la suite du
<i>pageEncoding="UTF-8"</i>,..

17
00:00:39,873 --> 00:00:43,250
..je vais vous demander
de mettre la ligne suivante,..

18
00:00:43,370 --> 00:00:46,375
..<i>taglib uri =</i>, etc,..

19
00:00:46,495 --> 00:00:50,110
..qui a pour intérêt
de charger la JSTL.

20
00:00:50,675 --> 00:00:54,172
La JSTL va être chargée
en mémoire sur ce fichier,..

21
00:00:54,509 --> 00:00:56,968
..avec le préfixe "c".

22
00:00:57,088 --> 00:01:01,204
Ça signifie que toutes les balises
de la JSTL..

23
00:01:01,324 --> 00:01:03,091
..devront commencer par <i>c</i>.

24
00:01:03,696 --> 00:01:05,951
Alors pour vérifier
que le JSTL fonctionne,..

25
00:01:06,071 --> 00:01:10,587
..on va essayer d'afficher un message
en utilisant le langage de la JSTL.

26
00:01:11,293 --> 00:01:13,546
À la place de <i>Bonjour !</i>

27
00:01:14,362 --> 00:01:15,862
..que je vais effacer,..

28
00:01:16,226 --> 00:01:18,977
..je vais écrire en JSTL,
c'est une forme de balise,..

29
00:01:19,097 --> 00:01:25,132
..<i>c:out value=Bonjour !</i>

30
00:01:25,252 --> 00:01:29,139
Je ferme avec <i>/</i> et je ferme la balise.

31
00:01:29,259 --> 00:01:30,175
Voilà.

32
00:01:30,295 --> 00:01:34,000
Avec ça, on devrait afficher
"Bonjour !" à l'intérieur du paragraphe.

33
00:01:34,120 --> 00:01:37,167
Normalement, c'est suffisant,
mais il y a une particularité.

34
00:01:37,527 --> 00:01:38,949
C'est qu'avec Tomcat,..

35
00:01:39,069 --> 00:01:42,451
..il faut rajouter
la bibliothèque JSTL,..

36
00:01:42,571 --> 00:01:44,730
..le fichier de la bibliothèque JSTL,..

37
00:01:44,850 --> 00:01:47,241
..à votre projet
pour qu'il le reconnaisse.

38
00:01:48,061 --> 00:01:51,686
Pour faire ça, vous allez devoir
télécharger la JSTL..

39
00:01:51,806 --> 00:01:53,651
..avec le lien
que je vais vous donner,..

40
00:01:54,072 --> 00:01:56,322
..copier le fichier de la JSTL..

41
00:01:56,442 --> 00:01:59,968
..et le coller dans <i>WebContent</i>,
<i>WEB-INF</i>, <i>lib</i>.

42
00:02:00,088 --> 00:02:03,688
En fait, dans le dossier <i>lib</i>, ici,
faites un clic droit..

43
00:02:04,180 --> 00:02:06,139
..et collez le fichier de la JSTL.

44
00:02:06,635 --> 00:02:10,247
Une fois que c'est fait, enregistrez,
vous ne devriez plus avoir d'erreur.

45
00:02:12,569 --> 00:02:15,660
Essayons d'exécuter ce code
pour voir ce qu'il affiche.

46
00:02:16,614 --> 00:02:18,842
Voilà, il affiche "Bonjour !".

47
00:02:19,454 --> 00:02:21,824
C'est ce qu'on attendait,
mais évidemment vous allez me dire,..

48
00:02:21,944 --> 00:02:25,088
.."Pourquoi s'embêter avec la JSTL,
si c'est pour afficher "Bonjour !",..

49
00:02:25,208 --> 00:02:27,648
..alors qu'on aurait pu l'écrire
directement en HTML ?"..

50
00:02:27,768 --> 00:02:30,086
Sur cet exemple,
je suis tout à fait d'accord,..

51
00:02:30,206 --> 00:02:32,252
..ça aurait été plus simple
de l'écrire en HTML,..

52
00:02:32,372 --> 00:02:34,926
..mais le but était de vérifier
que la JSTL fonctionne.

53
00:02:35,604 --> 00:02:37,589
On a inclus la JSTL..

54
00:02:37,709 --> 00:02:39,169
..en haut de la page,..

55
00:02:39,569 --> 00:02:41,998
..on l'a inclus
dans les bibliothèques..

56
00:02:42,118 --> 00:02:44,543
..par rapport au dossier du projet,..

57
00:02:44,663 --> 00:02:46,995
..et on a essayé
d'exécuter une commande JSTL..

58
00:02:47,115 --> 00:02:49,886
..et on a vu qu'elle marchait,
puisque ça affiche "Bonjour !"..

59
00:02:50,920 --> 00:02:54,290
A priori, on peut dire que notre
configuration de la JSTL fonctionne,..

60
00:02:54,410 --> 00:02:55,922
..et on pourrait s'arrêter là.

61
00:02:56,042 --> 00:02:58,459
Mais je vais quand même
vous proposer de faire un peu mieux..

62
00:02:58,579 --> 00:03:02,213
..et de faire en sorte que la JSTL
soit incluse automatiquement,..

63
00:03:02,333 --> 00:03:04,682
..quel que soit le fichier JSP.

64
00:03:05,009 --> 00:03:07,923
Parce que sinon, vous serez obligés..

65
00:03:08,043 --> 00:03:11,474
..de mettre cette ligne,
et même celle-ci,..

66
00:03:11,594 --> 00:03:14,818
..systématiquement,
en amont de tous les fichiers JSP,..

67
00:03:14,938 --> 00:03:16,804
..ce qui risque
d'être un peu répétitif.

68
00:03:16,924 --> 00:03:18,636
Donc, pour ça, j'ai une solution.

69
00:03:18,756 --> 00:03:22,440
Il suffit de se rendre dans web.xml,..

70
00:03:23,685 --> 00:03:27,369
..et à l'intérieur,
de rajouter la configuration suivante.

71
00:03:28,318 --> 00:03:30,608
Une balise <i>jsp-config</i>,..

72
00:03:30,728 --> 00:03:32,944
..qui va nous permettre, ici,..

73
00:03:33,064 --> 00:03:35,621
..de dire que,
pour tous les fichiers JSP,..

74
00:03:35,741 --> 00:03:38,662
..sera inclus au début en priorité..

75
00:03:38,782 --> 00:03:42,681
..le fichier <i>WEB-INF/taglibs.jsp</i>.

76
00:03:42,801 --> 00:03:46,366
Il ne reste plus qu’à créer ce fichier,
taglibs.jsp..

77
00:03:46,702 --> 00:03:48,858
Donc, on y va,
on fait un clic droit sur <i>WEB-INF</i>,..

78
00:03:48,978 --> 00:03:51,197
..<i>New</i>, <i>JSP File</i>.

79
00:03:52,918 --> 00:03:55,826
On l’appelle taglibs.jsp.

80
00:03:57,705 --> 00:04:00,069
Et à l'intérieur,
qu'est-ce qu'on va y mettre ?

81
00:04:00,189 --> 00:04:02,127
On va y mettre la même chose..

82
00:04:02,247 --> 00:04:04,833
..que ce qu’on avait au début
de notre fichier bonjour.jsp..

83
00:04:05,705 --> 00:04:09,333
..pour qu'il soit inclus automatiquement
au début de tous les fichiers JSP.

84
00:04:10,894 --> 00:04:12,107
Voilà.

85
00:04:12,227 --> 00:04:14,986
Dans taglibs.jsp,
je remets la directive..

86
00:04:15,106 --> 00:04:17,447
..<i>pageEncoding="UTF-8"</i>
qu'on avait mise au début.

87
00:04:17,567 --> 00:04:18,682
Et bien entendu,..

88
00:04:18,802 --> 00:04:22,310
..je mets cette directive <i>taglib</i>
qui nous permet d'inclure la JSTL..

89
00:04:22,430 --> 00:04:23,843
..systématiquement.

90
00:04:23,963 --> 00:04:25,516
Voilà, c'est fait.

91
00:04:26,021 --> 00:04:27,747
J'enregistre tous les fichiers,..

92
00:04:28,204 --> 00:04:31,557
..et puis je peux réessayer à nouveau
pour voir si ça fonctionne.

